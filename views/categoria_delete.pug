extends layout

block content
  .container.my-5.col-lg-6.col-md-8 
    
    h1.display-5.mb-4.pb-2.border-bottom= title 

    // Mensaje de error (si existe)
    if error
      .alert.alert-danger.mb-4.shadow-sm
        p.mb-0= error

    // ===========================================
    // L√≥gica cuando HAY Posts Asociados (Advertencia)
    // ===========================================
    if posts.length
      .alert.alert-warning.shadow-sm.p-4.mb-4 
        h4.alert-heading.fw-bold No se puede eliminar la categor√≠a "#{categoria.name}"
        p.mb-3 Esta categor√≠a tiene posts asociados. Por favor, elimine los posts listados a continuaci√≥n antes de proceder a eliminar la categor√≠a.
        
        // Lista de Posts
        ul.list-group.list-group-flush.mb-4 
          each post in posts
            li.list-group-item.d-flex.justify-content-between.align-items-center
              a.text-danger.fw-bold(href=post.url)= post.title
              span.badge.bg-warning.text-dark Asociado
              
        // Bot√≥n Volver
        .d-grid
          a.btn.btn-secondary.mt-3(href='/posts/categorias') ‚Üê Volver a Categor√≠as
    
   
    else
      .card.border-danger.shadow-lg 
        .card-header.bg-danger.text-white
          h4.mb-0 Confirmaci√≥n de Eliminaci√≥n
          
        .card-body.p-4
          // Mensaje de confirmaci√≥n
          p.lead.fw-normal ¬øSeguro que deseas eliminar la categor√≠a **"#{categoria.name}"**?
          p.text-muted Esta acci√≥n es irreversible.

          // Formulario de Eliminaci√≥n
          form(method='POST' action='')
            .d-flex.gap-3.mt-4 
              button.btn.btn-danger.btn-lg(type='submit') üóëÔ∏è S√≠, eliminar permanentemente
              a.btn.btn-secondary.btn-lg(href='/posts/categorias') ‚ùå Cancelar